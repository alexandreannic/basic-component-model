<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (version 1.7.0_09) on Mon Jan 19 11:39:23 CET 2015 -->
<title>AbstractDistributedCVM</title>
<meta name="date" content="2015-01-19">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AbstractDistributedCVM";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractDistributedCVM.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../fr/upmc/components/cvm/AbstractCVM.html" title="class in fr.upmc.components.cvm"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html" title="interface in fr.upmc.components.cvm"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?fr/upmc/components/cvm/AbstractDistributedCVM.html" target="_top">Frames</a></li>
<li><a href="AbstractDistributedCVM.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">fr.upmc.components.cvm</div>
<h2 title="Class AbstractDistributedCVM" class="title">Class AbstractDistributedCVM</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../fr/upmc/components/cvm/AbstractCVM.html" title="class in fr.upmc.components.cvm">fr.upmc.components.cvm.AbstractCVM</a></li>
<li>
<ul class="inheritance">
<li>fr.upmc.components.cvm.AbstractDistributedCVM</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html" title="interface in fr.upmc.components.cvm">ComponentVirtualMachineI</a>, <a href="../../../../fr/upmc/components/cvm/DistributedComponentVirtualMachineI.html" title="interface in fr.upmc.components.cvm">DistributedComponentVirtualMachineI</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../fr/upmc/components/extensions/examples/countDownLatch/DistributedCVM.html" title="class in fr.upmc.components.extensions.examples.countDownLatch">DistributedCVM</a>, <a href="../../../../fr/upmc/components/extensions/examples/arrayBlockingQueue/DistributedCVM.html" title="class in fr.upmc.components.extensions.examples.arrayBlockingQueue">DistributedCVM</a>, <a href="../../../../fr/upmc/components/extensions/examples/semaphore/DistributedCVM.html" title="class in fr.upmc.components.extensions.examples.semaphore">DistributedCVM</a>, <a href="../../../../fr/upmc/components/examples/basic_cs/DistributedCVM.html" title="class in fr.upmc.components.examples.basic_cs">DistributedCVM</a>, <a href="../../../../fr/upmc/components/extensions/examples/cyclicBarrier/DistributedCVM.html" title="class in fr.upmc.components.extensions.examples.cyclicBarrier">DistributedCVM</a>, <a href="../../../../fr/upmc/components/examples/dynamic_cs/DynamicDistributedCVM.html" title="class in fr.upmc.components.examples.dynamic_cs">DynamicDistributedCVM</a>, <a href="../../../../fr/upmc/components/examples/smoothing/SmoothingDistributedCVM.html" title="class in fr.upmc.components.examples.smoothing">SmoothingDistributedCVM</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">AbstractDistributedCVM</span>
extends <a href="../../../../fr/upmc/components/cvm/AbstractCVM.html" title="class in fr.upmc.components.cvm">AbstractCVM</a>
implements <a href="../../../../fr/upmc/components/cvm/DistributedComponentVirtualMachineI.html" title="interface in fr.upmc.components.cvm">DistributedComponentVirtualMachineI</a></pre>
<div class="block">The class <code>AbstractDistributedCVM</code> defines the common properties
 of distributed component virtual machines in the component model.

 <p><strong>Description</strong></p>
 
 DCVM are deployed on a set of Java virtual machines, themselves running over
 a set of different hosts.  A deployment uses:
 <ul>
 <li>one RMI registry per host (limitation of the RMI registry provided by
   Oracle that entries may be set only on a registry that runs on the same
   host);</li>
 <li>one JVM running the global registry that is mapping port URIs to the
   host on which RMI registry it is published;</li>
 <li>one JVM running a  distributed cyclic barrier used to synchronise the
   deployment processes among the different JVM running components;</li>
 <li>at least one, but more pragmatically more than two JVM running
   components which are given a URI (this URI is used in the deployment code
   to know which components must be created by the current JVM and which are
   created by other virtual machines.</li>
 </ul>
 
 The configuration file provides application-wide informations required on
 each virtual machine to make the system work properly.  This file is giving
 the necessary information to all of the different JVM, and to the tools like
 the cyclic barrier used to synchronise the different JVM.  The Relax NG
 schema of the configuration file is as follows:
 
 <pre>
 start = deployment
 
 deployment = element deployment {
   codebase?,             # localisation of the code base of the application
   cyclicBarrier,         # configuration of the cyclic barrier
   globalRegistry,        # configuration of the global registry
   rmiRegistryPort,       # configuration of the RMI registry
   jvms2hostnames         # mapping from JVM to hosts running them
 }
 
 codebase = element codebase {
   attribute hostname  { text },  # host on which the code base may be found
   attribute directory { text },  # directory in which the code base may be found
   empty
 }
 
 cyclicBarrier = element cyclicBarrier {
   attribute hostname  { text },   # host on which the cyclic barrier is running
   attribute port      { xsd:int } # port number listen by the cyclic barrier
 }
 
 globalRegistry = element globalRegistry {
   attribute hostname  { text },   # host on which the global registry is running
   attribute port      { xsd:int } # port number listen by the global registry
 }
 
 rmiRegistryPort = element rmiRegistryPort {
   attribute no        { xsd:int }  # port number listen by the RMI registry
 }
 
 jvms2hostnames = element jvms2hostnames {
   jvm2hostname+
 }
 
 jvm2hostname = element jvm2hostname {
   attribute jvmuri { xsd:anyURI },      # JVM URI
                                         # is this JVM creating the RMI registry
   attribute rmiRegistryCreator { xsd:boolean },
   attribute hostname { text }           # name of the host running that JVM
 }
 </pre>
 
 The DCVM object created from the user-defined subclass of this abstract class
 is meant to be executed on every JVM running components used for the
 deployment.  The configuration file and the code of the user must be written
 in such a way that it identifies the static components to be instantiated
 locally in order to create them and then publish on the RMI registry the
 connection points of their inbound ports (the ones for the offered interfaces
 of the components) so that the client components will be able to get the
 information from the registry to do the connection.
 
 In order to ensure the availability of the information and to avoid deadlocks
 in this initialisation phase, all of the static creations and inbound
 connection publications must be done before beginning to query the registry
 to connect local components to distant ones.  The cyclic barrier serves as a
 mean for synchronisation to this end.
 
 Starting a component-based application entails:
 <ol>
 <li>Starting the global registry on the global registry host.</li>
 <li>On each host, start the different JVM that must run on that host, paying
   attention to the fact that all of these JVM must be given the URI that is
   used in the deployment code to identify the components that must be
   created on that JVM.</li>
 </ol>
 
 <p><strong>Invariant</strong></p>
 
 <pre>
 invariant      true                    // no invariant yet, TODO
 </pre>
 
 <p>Created on : 2012-05-22</p></div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Name$ -- $Revision$ -- $Date$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:Jacques.Malenfant@lip6.fr">Jacques Malenfant</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../fr/upmc/components/cvm/config/ConfigurationParameters.html" title="class in fr.upmc.components.cvm.config">ConfigurationParameters</a></code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#configurationParameters">configurationParameters</a></strong></code>
<div class="block">parameters obtained form the xml configuration file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrierClient.html" title="class in fr.upmc.components.cvm.utils">DCVMCyclicBarrierClient</a></code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#cyclicBarrierClient">cyclicBarrierClient</a></strong></code>
<div class="block">distributed implementation of a cyclic barrier for assemblies.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../fr/upmc/components/registry/GlobalRegistryClient.html" title="class in fr.upmc.components.registry">GlobalRegistryClient</a></code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#GLOBAL_REGISTRY_CLIENT">GLOBAL_REGISTRY_CLIENT</a></strong></code>
<div class="block">Global registry client; singleton.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#initialised">initialised</a></strong></code>
<div class="block">true if the initialisations of the CVM are done.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#instantiationAndPublicationDone">instantiationAndPublicationDone</a></strong></code>
<div class="block">true if the instantiations of the local components and the publications
 of their connection points on the RMI registry have been completed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#interconnectionDone">interconnectionDone</a></strong></code>
<div class="block">true if the interconnections of the client side connections of the
 local components to their corresponding server side connection points
 have been completed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#rmiRegistryCreators">rmiRegistryCreators</a></strong></code>
<div class="block">name of the JVMs creating RMI registry.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#rmiRegistryHosts">rmiRegistryHosts</a></strong></code>
<div class="block">name of the hosts holding RMI registry.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#rmiRegistryPort">rmiRegistryPort</a></strong></code>
<div class="block">port number used for the RMI registry.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.rmi.registry.Registry</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#theRMIRegistry">theRMIRegistry</a></strong></code>
<div class="block">reference to the RMI registry.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#thisHostname">thisHostname</a></strong></code>
<div class="block">name of the host on which the JVM is running.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#thisJVMURI">thisJVMURI</a></strong></code>
<div class="block">URI of the current JVM in the deployment platform.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_fr.upmc.components.cvm.AbstractCVM">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;fr.upmc.components.cvm.<a href="../../../../fr/upmc/components/cvm/AbstractCVM.html" title="class in fr.upmc.components.cvm">AbstractCVM</a></h3>
<code><a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#DEBUG">DEBUG</a>, <a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#deployedComponents">deployedComponents</a>, <a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#deploymentDone">deploymentDone</a>, <a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#DYNAMIC_COMPONENT_CREATOR_INBOUNDPORT_URI">DYNAMIC_COMPONENT_CREATOR_INBOUNDPORT_URI</a>, <a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#isDistributed">isDistributed</a>, <a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#LOCAL_REGISTRY">LOCAL_REGISTRY</a>, <a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#LOCAL_REGISTRY_INIT_SIZE">LOCAL_REGISTRY_INIT_SIZE</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#AbstractDistributedCVM(java.lang.String[])">AbstractDistributedCVM</a></strong>(java.lang.String[]&nbsp;args)</code>
<div class="block">instantiate the DCVM object.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#deploy()">deploy</a></strong>()</code>
<div class="block">instantiate the components, publish their connection points on the
 registry and interconnect them.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#initialise()">initialise</a></strong>()</code>
<div class="block">initialise the RMI registry reference for JVM that are not responsible
 for its creation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#instantiateAndPublish()">instantiateAndPublish</a></strong>()</code>
<div class="block">simply establish that the instantiation of components and the publication
 of the entry points are completed, so it should be called at the end of
 the user's own <code>instantiateAndPublish</code> method.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#interconnect()">interconnect</a></strong>()</code>
<div class="block">simply check if instantiation of components and the publication of the
 entry points are completed, so it should be called at the beginning of
 the user's own <code>interconnect</code> method.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#publishPort(fr.upmc.components.interfaces.OfferedI)">publishPort</a></strong>(<a href="../../../../fr/upmc/components/interfaces/OfferedI.html" title="interface in fr.upmc.components.interfaces">OfferedI</a>&nbsp;port)</code>
<div class="block">publish inbound ports (data inbound ports and two way ports) both
 locally and globally, which includes the RMI registry and the global
 component registry; outbound ports need not be published globally
 but only locally (this information is used by the connection builder to
 decide how the connections to that port must be done).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#shutdown()">shutdown</a></strong>()</code>
<div class="block">shut down the CVM, synchronising with the other JVM when distributed,
 i.e. all of the deployed components in the CVM are shut down; inspired
 from the Java Executor framework.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#shutdownNow()">shutdownNow</a></strong>()</code>
<div class="block">shut down the CVM now, synchronising with the other sites when
 distributed, i.e. all of the locally deployed components in the
 CVM are shut down; inspired from the Java Executor framework.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#start()">start</a></strong>()</code>
<div class="block">simply check if the deployment and the interconnection are completed,
 so it should be called at the beginning of the user's own
 <code>start</code> method.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/upmc/components/cvm/AbstractDistributedCVM.html#unpublishPort(fr.upmc.components.interfaces.OfferedI)">unpublishPort</a></strong>(<a href="../../../../fr/upmc/components/interfaces/OfferedI.html" title="interface in fr.upmc.components.interfaces">OfferedI</a>&nbsp;port)</code>
<div class="block">unpublishes previously published inbound ports (data inbound ports and
 two way ports) both locally and globally, which includes the RMI
 registry and the global component registry; outbound ports need not be
 published globally but only locally.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_fr.upmc.components.cvm.AbstractCVM">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;fr.upmc.components.cvm.<a href="../../../../fr/upmc/components/cvm/AbstractCVM.html" title="class in fr.upmc.components.cvm">AbstractCVM</a></h3>
<code><a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#addDeployedComponent(fr.upmc.components.ComponentI)">addDeployedComponent</a>, <a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#awaitTermination(long, java.util.concurrent.TimeUnit)">awaitTermination</a>, <a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#initialiseConnectionBuilder()">initialiseConnectionBuilder</a>, <a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#isDeployedComponent(fr.upmc.components.ComponentI)">isDeployedComponent</a>, <a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#isShutdown()">isShutdown</a>, <a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#isTerminated()">isTerminated</a>, <a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#localPublishPort(fr.upmc.components.ports.PortI)">localPublishPort</a>, <a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#localUnpublishPort(fr.upmc.components.ports.PortI)">localUnpublishPort</a>, <a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#removeDeployedComponent(fr.upmc.components.ComponentI)">removeDeployedComponent</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_fr.upmc.components.cvm.ComponentVirtualMachineI">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;fr.upmc.components.cvm.<a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html" title="interface in fr.upmc.components.cvm">ComponentVirtualMachineI</a></h3>
<code><a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html#addDeployedComponent(fr.upmc.components.ComponentI)">addDeployedComponent</a>, <a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html#awaitTermination(long, java.util.concurrent.TimeUnit)">awaitTermination</a>, <a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html#isDeployedComponent(fr.upmc.components.ComponentI)">isDeployedComponent</a>, <a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html#isShutdown()">isShutdown</a>, <a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html#isTerminated()">isTerminated</a>, <a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html#removeDeployedComponent(fr.upmc.components.ComponentI)">removeDeployedComponent</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="configurationParameters">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>configurationParameters</h4>
<pre>protected&nbsp;<a href="../../../../fr/upmc/components/cvm/config/ConfigurationParameters.html" title="class in fr.upmc.components.cvm.config">ConfigurationParameters</a> configurationParameters</pre>
<div class="block">parameters obtained form the xml configuration file.</div>
</li>
</ul>
<a name="thisJVMURI">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>thisJVMURI</h4>
<pre>public static&nbsp;java.lang.String thisJVMURI</pre>
<div class="block">URI of the current JVM in the deployment platform.</div>
</li>
</ul>
<a name="thisHostname">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>thisHostname</h4>
<pre>public static&nbsp;java.lang.String thisHostname</pre>
<div class="block">name of the host on which the JVM is running.</div>
</li>
</ul>
<a name="rmiRegistryCreators">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rmiRegistryCreators</h4>
<pre>public static&nbsp;java.util.Set&lt;java.lang.String&gt; rmiRegistryCreators</pre>
<div class="block">name of the JVMs creating RMI registry.</div>
</li>
</ul>
<a name="rmiRegistryHosts">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rmiRegistryHosts</h4>
<pre>public static&nbsp;java.util.Set&lt;java.lang.String&gt; rmiRegistryHosts</pre>
<div class="block">name of the hosts holding RMI registry.</div>
</li>
</ul>
<a name="rmiRegistryPort">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rmiRegistryPort</h4>
<pre>public static&nbsp;int rmiRegistryPort</pre>
<div class="block">port number used for the RMI registry.</div>
</li>
</ul>
<a name="theRMIRegistry">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>theRMIRegistry</h4>
<pre>public static&nbsp;java.rmi.registry.Registry theRMIRegistry</pre>
<div class="block">reference to the RMI registry.</div>
</li>
</ul>
<a name="GLOBAL_REGISTRY_CLIENT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GLOBAL_REGISTRY_CLIENT</h4>
<pre>public static final&nbsp;<a href="../../../../fr/upmc/components/registry/GlobalRegistryClient.html" title="class in fr.upmc.components.registry">GlobalRegistryClient</a> GLOBAL_REGISTRY_CLIENT</pre>
<div class="block">Global registry client; singleton.</div>
</li>
</ul>
<a name="initialised">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialised</h4>
<pre>protected&nbsp;boolean initialised</pre>
<div class="block">true if the initialisations of the CVM are done.</div>
</li>
</ul>
<a name="instantiationAndPublicationDone">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>instantiationAndPublicationDone</h4>
<pre>protected&nbsp;boolean instantiationAndPublicationDone</pre>
<div class="block">true if the instantiations of the local components and the publications
 of their connection points on the RMI registry have been completed.</div>
</li>
</ul>
<a name="interconnectionDone">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>interconnectionDone</h4>
<pre>protected&nbsp;boolean interconnectionDone</pre>
<div class="block">true if the interconnections of the client side connections of the
 local components to their corresponding server side connection points
 have been completed.</div>
</li>
</ul>
<a name="cyclicBarrierClient">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>cyclicBarrierClient</h4>
<pre>protected&nbsp;<a href="../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrierClient.html" title="class in fr.upmc.components.cvm.utils">DCVMCyclicBarrierClient</a> cyclicBarrierClient</pre>
<div class="block">distributed implementation of a cyclic barrier for assemblies.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AbstractDistributedCVM(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AbstractDistributedCVM</h4>
<pre>public&nbsp;AbstractDistributedCVM(java.lang.String[]&nbsp;args)
                       throws java.lang.Exception</pre>
<div class="block">instantiate the DCVM object.
 
 <p><strong>Description</strong></p>
 
 The constructor gets from the command line arguments the logical
 name of the current JVM in the assembly and the name of an XML
 configuration file giving a mapping between the URI of hosts to their
 IP addresses in the current deployment.  This JVM URI must be in the
 static array JVM_URIs and all of the hosts URI in the array HOSTS_URIs
 and only these ones must appear in the XML configuration file
 
 <p><strong>Contract</strong></p>
 
 <pre>
 pre    args.length > 1
 post   true                    // TODO
 </pre></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>args</code> - command line arguments from the main method.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="publishPort(fr.upmc.components.interfaces.OfferedI)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publishPort</h4>
<pre>public static&nbsp;void&nbsp;publishPort(<a href="../../../../fr/upmc/components/interfaces/OfferedI.html" title="interface in fr.upmc.components.interfaces">OfferedI</a>&nbsp;port)
                        throws java.lang.Exception</pre>
<div class="block">publish inbound ports (data inbound ports and two way ports) both
 locally and globally, which includes the RMI registry and the global
 component registry; outbound ports need not be published globally
 but only locally (this information is used by the connection builder to
 decide how the connections to that port must be done).
 
 <p><strong>Contract</strong></p>
 
 <pre>
 pre    port != null
 post   true                            // no more postconditions.
 </pre></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>port</code> - port to be published</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="unpublishPort(fr.upmc.components.interfaces.OfferedI)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unpublishPort</h4>
<pre>public static&nbsp;void&nbsp;unpublishPort(<a href="../../../../fr/upmc/components/interfaces/OfferedI.html" title="interface in fr.upmc.components.interfaces">OfferedI</a>&nbsp;port)
                          throws java.lang.Exception</pre>
<div class="block">unpublishes previously published inbound ports (data inbound ports and
 two way ports) both locally and globally, which includes the RMI
 registry and the global component registry; outbound ports need not be
 published globally but only locally.
 
 <p><strong>Contract</strong></p>
 
 <pre>
 pre    port != null
 post   true                            // no more postconditions.
 </pre></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>port</code> - port to be unpublished.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="deploy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deploy</h4>
<pre>public&nbsp;void&nbsp;deploy()
            throws java.lang.Exception</pre>
<div class="block">instantiate the components, publish their connection points on the
 registry and interconnect them.
 
 <p><strong>Contract</strong></p>
 
 <pre>
 pre    !deploymentDone
 post   deploymentDone
 </pre></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html#deploy()">deploy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html" title="interface in fr.upmc.components.cvm">ComponentVirtualMachineI</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#deploy()">deploy</a></code>&nbsp;in class&nbsp;<code><a href="../../../../fr/upmc/components/cvm/AbstractCVM.html" title="class in fr.upmc.components.cvm">AbstractCVM</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html#deploy()"><code>ComponentVirtualMachineI.deploy()</code></a></dd></dl>
</li>
</ul>
<a name="initialise()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialise</h4>
<pre>public&nbsp;void&nbsp;initialise()
                throws java.lang.Exception</pre>
<div class="block">initialise the RMI registry reference for JVM that are not responsible
 for its creation.
 
 <p><strong>Contract</strong></p>
 
 <pre>
 pre    !this.initialised
 post   AbstractDistributedAssembly.theRMIRegistry != null
 post   this.initialised
 </pre></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../fr/upmc/components/cvm/DistributedComponentVirtualMachineI.html#initialise()">initialise</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../fr/upmc/components/cvm/DistributedComponentVirtualMachineI.html" title="interface in fr.upmc.components.cvm">DistributedComponentVirtualMachineI</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../fr/upmc/components/cvm/DistributedComponentVirtualMachineI.html#initialise()"><code>DistributedComponentVirtualMachineI.initialise()</code></a></dd></dl>
</li>
</ul>
<a name="instantiateAndPublish()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>instantiateAndPublish</h4>
<pre>public&nbsp;void&nbsp;instantiateAndPublish()
                           throws java.lang.Exception</pre>
<div class="block">simply establish that the instantiation of components and the publication
 of the entry points are completed, so it should be called at the end of
 the user's own <code>instantiateAndPublish</code> method.
 
 <p><strong>Contract</strong></p>
 
 <pre>
 pre    true                            // no more preconditions.
 post   instantiationAndPublicationDone
 </pre></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../fr/upmc/components/cvm/DistributedComponentVirtualMachineI.html#instantiateAndPublish()">instantiateAndPublish</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../fr/upmc/components/cvm/DistributedComponentVirtualMachineI.html" title="interface in fr.upmc.components.cvm">DistributedComponentVirtualMachineI</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../fr/upmc/components/cvm/DistributedComponentVirtualMachineI.html#instantiateAndPublish()"><code>DistributedComponentVirtualMachineI.instantiateAndPublish()</code></a></dd></dl>
</li>
</ul>
<a name="interconnect()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>interconnect</h4>
<pre>public&nbsp;void&nbsp;interconnect()
                  throws java.lang.Exception</pre>
<div class="block">simply check if instantiation of components and the publication of the
 entry points are completed, so it should be called at the beginning of
 the user's own <code>interconnect</code> method.
 
 <p><strong>Contract</strong></p>
 
 <pre>
 pre    instantiationAndPublicationDone
 post   interconnectionDone
 </pre></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../fr/upmc/components/cvm/DistributedComponentVirtualMachineI.html#interconnect()">interconnect</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../fr/upmc/components/cvm/DistributedComponentVirtualMachineI.html" title="interface in fr.upmc.components.cvm">DistributedComponentVirtualMachineI</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../fr/upmc/components/cvm/DistributedComponentVirtualMachineI.html#interconnect()"><code>DistributedComponentVirtualMachineI.interconnect()</code></a></dd></dl>
</li>
</ul>
<a name="start()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start()
           throws java.lang.Exception</pre>
<div class="block">simply check if the deployment and the interconnection are completed,
 so it should be called at the beginning of the user's own
 <code>start</code> method.
 
 <p><strong>Contract</strong></p>
 
 <pre>
 pre    deploymentDone
 post   !this.isShutdown()
 </pre></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html#start()">start</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html" title="interface in fr.upmc.components.cvm">ComponentVirtualMachineI</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#start()">start</a></code>&nbsp;in class&nbsp;<code><a href="../../../../fr/upmc/components/cvm/AbstractCVM.html" title="class in fr.upmc.components.cvm">AbstractCVM</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html#start()"><code>ComponentVirtualMachineI.start()</code></a></dd></dl>
</li>
</ul>
<a name="shutdown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()
              throws java.lang.Exception</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html#shutdown()">ComponentVirtualMachineI</a></code></strong></div>
<div class="block">shut down the CVM, synchronising with the other JVM when distributed,
 i.e. all of the deployed components in the CVM are shut down; inspired
 from the Java Executor framework.
 
 <p><strong>Contract</strong></p>
 
 <pre>
 pre    !this.isShutdown()
 post   this.isShutdown()
 </pre></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html#shutdown()">shutdown</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html" title="interface in fr.upmc.components.cvm">ComponentVirtualMachineI</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#shutdown()">shutdown</a></code>&nbsp;in class&nbsp;<code><a href="../../../../fr/upmc/components/cvm/AbstractCVM.html" title="class in fr.upmc.components.cvm">AbstractCVM</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#shutdown()"><code>AbstractCVM.shutdown()</code></a></dd></dl>
</li>
</ul>
<a name="shutdownNow()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>shutdownNow</h4>
<pre>public&nbsp;void&nbsp;shutdownNow()
                 throws java.lang.Exception</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html#shutdownNow()">ComponentVirtualMachineI</a></code></strong></div>
<div class="block">shut down the CVM now, synchronising with the other sites when
 distributed, i.e. all of the locally deployed components in the
 CVM are shut down; inspired from the Java Executor framework.
 
 <p><strong>Contract</strong></p>
 
 <pre>
 pre    !this.isShutdown()
 post   this.isShutdown()
 </pre></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html#shutdownNow()">shutdownNow</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html" title="interface in fr.upmc.components.cvm">ComponentVirtualMachineI</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#shutdownNow()">shutdownNow</a></code>&nbsp;in class&nbsp;<code><a href="../../../../fr/upmc/components/cvm/AbstractCVM.html" title="class in fr.upmc.components.cvm">AbstractCVM</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../fr/upmc/components/cvm/AbstractCVM.html#shutdownNow()"><code>AbstractCVM.shutdownNow()</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractDistributedCVM.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../fr/upmc/components/cvm/AbstractCVM.html" title="class in fr.upmc.components.cvm"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../fr/upmc/components/cvm/ComponentVirtualMachineI.html" title="interface in fr.upmc.components.cvm"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?fr/upmc/components/cvm/AbstractDistributedCVM.html" target="_top">Frames</a></li>
<li><a href="AbstractDistributedCVM.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
