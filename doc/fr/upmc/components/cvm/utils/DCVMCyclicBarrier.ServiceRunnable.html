<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (version 1.7.0_09) on Mon Jan 19 11:39:23 CET 2015 -->
<title>DCVMCyclicBarrier.ServiceRunnable</title>
<meta name="date" content="2015-01-19">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DCVMCyclicBarrier.ServiceRunnable";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DCVMCyclicBarrier.ServiceRunnable.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrier.HostPortSocket.html" title="class in fr.upmc.components.cvm.utils"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrierClient.html" title="class in fr.upmc.components.cvm.utils"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?fr/upmc/components/cvm/utils/DCVMCyclicBarrier.ServiceRunnable.html" target="_top">Frames</a></li>
<li><a href="DCVMCyclicBarrier.ServiceRunnable.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">fr.upmc.components.cvm.utils</div>
<h2 title="Class DCVMCyclicBarrier.ServiceRunnable" class="title">Class DCVMCyclicBarrier.ServiceRunnable</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>fr.upmc.components.cvm.utils.DCVMCyclicBarrier.ServiceRunnable</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrier.html" title="class in fr.upmc.components.cvm.utils">DCVMCyclicBarrier</a></dd>
</dl>
<hr>
<br>
<pre>protected static class <span class="strong">DCVMCyclicBarrier.ServiceRunnable</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
<div class="block">The class <code>ServiceRunnable</code> implements the barrier as a
 <code>Runnable</code> that receives the synchronisation requests from
 assemblies, store them awaiting, and sends all of the stored assemblies
 the release signal when all of them have sent their request.

 <p><strong>Description</strong></p>
 
 The implementation relies on sockets and their waiting for reading
 capability to force the waiting and then release of the processes to
 be synchronised.
 
 <p><strong>Invariant</strong></p>
 
 <pre>
 invariant      true    // TODO
 </pre>
 
 <p>Created on : 17 janv. 2014</p></div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Name$ -- $Revision$ -- $Date$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:Jacques.Malenfant@lip6.fr">Jacques Malenfant</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.Hashtable&lt;java.lang.String,<a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrier.HostPortSocket.html" title="class in fr.upmc.components.cvm.utils">DCVMCyclicBarrier.HostPortSocket</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrier.ServiceRunnable.html#awaitingSites">awaitingSites</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.io.BufferedReader</code></td>
<td class="colLast"><code><strong><a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrier.ServiceRunnable.html#br">br</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.CountDownLatch</code></td>
<td class="colLast"><code><strong><a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrier.ServiceRunnable.html#finished">finished</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.concurrent.CyclicBarrier</code></td>
<td class="colLast"><code><strong><a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrier.ServiceRunnable.html#localCyclicBarrier">localCyclicBarrier</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrier.ServiceRunnable.html#numberOfJVMsInDCVM">numberOfJVMsInDCVM</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.net.Socket</code></td>
<td class="colLast"><code><strong><a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrier.ServiceRunnable.html#s">s</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrier.ServiceRunnable.html#DCVMCyclicBarrier.ServiceRunnable(java.util.Hashtable, int, java.net.Socket, java.util.concurrent.CyclicBarrier, java.util.concurrent.CountDownLatch)">DCVMCyclicBarrier.ServiceRunnable</a></strong>(java.util.Hashtable&lt;java.lang.String,<a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrier.HostPortSocket.html" title="class in fr.upmc.components.cvm.utils">DCVMCyclicBarrier.HostPortSocket</a>&gt;&nbsp;awaitingSites,
                                 int&nbsp;numberOfJVMsInDCVM,
                                 java.net.Socket&nbsp;s,
                                 java.util.concurrent.CyclicBarrier&nbsp;localCyclicBarrier,
                                 java.util.concurrent.CountDownLatch&nbsp;finished)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrier.ServiceRunnable.html#run()">run</a></strong>()</code>
<div class="block">for each external process to be synchronised, a copy of this method
 is the behaviour of the associated thread in the distributed cyclic
 barrier, which repeatedly read the external process info written on
 its socket, put the information in the hash table of awaiting
 processes and wait on the local cyclic barrier to be released; this
 is repeated until a null is returned from the read on socket, marking
 the disconnection from the barrier by the external process.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="awaitingSites">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitingSites</h4>
<pre>protected&nbsp;java.util.Hashtable&lt;java.lang.String,<a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrier.HostPortSocket.html" title="class in fr.upmc.components.cvm.utils">DCVMCyclicBarrier.HostPortSocket</a>&gt; awaitingSites</pre>
</li>
</ul>
<a name="numberOfJVMsInDCVM">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numberOfJVMsInDCVM</h4>
<pre>protected&nbsp;int numberOfJVMsInDCVM</pre>
</li>
</ul>
<a name="s">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>s</h4>
<pre>protected&nbsp;java.net.Socket s</pre>
</li>
</ul>
<a name="br">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>br</h4>
<pre>protected&nbsp;java.io.BufferedReader br</pre>
</li>
</ul>
<a name="localCyclicBarrier">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>localCyclicBarrier</h4>
<pre>protected&nbsp;java.util.concurrent.CyclicBarrier localCyclicBarrier</pre>
</li>
</ul>
<a name="finished">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>finished</h4>
<pre>protected&nbsp;java.util.concurrent.CountDownLatch finished</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DCVMCyclicBarrier.ServiceRunnable(java.util.Hashtable, int, java.net.Socket, java.util.concurrent.CyclicBarrier, java.util.concurrent.CountDownLatch)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DCVMCyclicBarrier.ServiceRunnable</h4>
<pre>public&nbsp;DCVMCyclicBarrier.ServiceRunnable(java.util.Hashtable&lt;java.lang.String,<a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrier.HostPortSocket.html" title="class in fr.upmc.components.cvm.utils">DCVMCyclicBarrier.HostPortSocket</a>&gt;&nbsp;awaitingSites,
                                 int&nbsp;numberOfJVMsInDCVM,
                                 java.net.Socket&nbsp;s,
                                 java.util.concurrent.CyclicBarrier&nbsp;localCyclicBarrier,
                                 java.util.concurrent.CountDownLatch&nbsp;finished)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="run()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">for each external process to be synchronised, a copy of this method
 is the behaviour of the associated thread in the distributed cyclic
 barrier, which repeatedly read the external process info written on
 its socket, put the information in the hash table of awaiting
 processes and wait on the local cyclic barrier to be released; this
 is repeated until a null is returned from the read on socket, marking
 the disconnection from the barrier by the external process.
  
 <p><strong>Contract</strong></p>
 
 <pre>
 pre    true                            // no more preconditions.
 post   true                            // no more postconditions.
 </pre></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
<dt><span class="strong">See Also:</span></dt><dd><code>Runnable.run()</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DCVMCyclicBarrier.ServiceRunnable.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrier.HostPortSocket.html" title="class in fr.upmc.components.cvm.utils"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../fr/upmc/components/cvm/utils/DCVMCyclicBarrierClient.html" title="class in fr.upmc.components.cvm.utils"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?fr/upmc/components/cvm/utils/DCVMCyclicBarrier.ServiceRunnable.html" target="_top">Frames</a></li>
<li><a href="DCVMCyclicBarrier.ServiceRunnable.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
